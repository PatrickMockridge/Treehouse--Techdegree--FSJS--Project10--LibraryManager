<nav>
  <ul>
    <li><a href="http://localhost:5000/#/">Home</a></li>
    <li><a href="/#/books">Books</a></li>
    <li><a href="/#/patrons">Patrons</a></li>
    <li><a href="/#/loans">Loans</a></li>
  </ul>
</nav>

    <h1>{{bookDetails.title}}</h1>
    <form>
        <p><label for="title">Title</label><input ng-model="bookDetails.title" id="title" type="text"><ng-if</p>
        <p><label for="author">Author</label><input ng-model="bookDetails.author" id="author" type="text"></p>
        <p><label for="genre">Genre</label><input ng-model="bookDetails.genre" id="genre" type="text" value="Non Fiction"></p>
        <p><label for="first_published">First Published</label><input ng-model="bookDetails.first_published" id="first_published" type="text"></p>
        <p><a href="" ng-click="updateBook()" class="button">Update Book</a></p>
        <p ng-if="success">{{success}}</p>
        <div ng-if="failure">
          <p>Update Failed</p>
          <p ng-repeat="error in errorMessages">{{error.message}}</p>
        </div>

    </form>
    <h2>Loan History</h2>
    <table>
        <thead>
            <tr>
                <th>Book</th>
                <th>Patron </th>
                <th>Loaned on</th>
                <th>Return by </th>
                <th>Returned on</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="loan in bookDetails.loans">
                <td><a ng-href="#/books/{{loan.book_id}}">{{bookDetails.title}}</a></td>
                <td><a href="#/patrons/{{loan.patron_id}}">{{loan.patron.first_name}} {{loan.patron.last_name}}</a></td>
                <td>{{loan.loaned_on}}</td>
                <td>{{loan.return_by}}</td>
                <td>{{loan.returned_on}}</td>
                <td><a ng-if="!loan.returned_on" href="#/return/{{loan.id}}" class="button">Return Book</a></td>
            </tr>
        </tbody>
    </table>
</body>

</html>
